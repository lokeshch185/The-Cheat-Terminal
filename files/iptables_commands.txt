# IPTABLES FIREWALL EXPERIMENT - COMMANDS ONLY

# 1. Check current firewall rules
sudo iptables -L

# 2. Set default policies
sudo iptables -P INPUT DROP
sudo iptables -P FORWARD DROP
sudo iptables -P OUTPUT ACCEPT

# 3. Allow SSH (port 22)
sudo iptables -A INPUT -p tcp --dport 22 -j ACCEPT

# 4. Allow HTTP (port 80)
sudo iptables -A INPUT -p tcp --dport 80 -j ACCEPT

# 5. Block a specific IP address
sudo iptables -A INPUT -s 192.168.1.100 -j DROP

# 6. Save the firewall rules
sudo iptables-save > rules.v4

# 7. View system IP configuration
ip addr show

# 8. Test SSH connectivity (example)
ssh student@192.168.1.8

# 9. Test ping from blocked source (should fail)
ping 192.168.1.8

# 10. List rules again to verify
sudo iptables -L -n -v
